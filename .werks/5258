Title: cmk-update-agent: Fix invalid signature error (regression since 1.4.0p11)
Level: 1
Component: agents
Compatible: compat
Edition: cee
Version: 1.4.0p12
Date: 1505299119
Class: fix

The execution of cmk-update-agent could abort showing the following errors with Check_MK version shipping werk #4565 (1.4.0p11 only):

invalid signature #..
ERROR No valid signature found.

This Error message would also be displayed directly on cmdline when running cmk-update-agent manually or within the corresponding Check_MK Service when cmk-update-agent is executed as a plugin

The error can occur on hosts under the following circumstances:
- An new agent got baked for the host after updating to Check_MK 1.4.0p11
- cmk-update-agent uses curl for server communications, i.e. there is no python-requests installed on the host.
- this error does not occur on Windows hosts (hence python-requests is packaged here)

After updating Check_MK and rebaking your agents, it is also required to reinstall the Check_MK Agent on affected hosts.